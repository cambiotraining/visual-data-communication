{
  "hash": "9d7056355984a4cdc0ee2a740a52dfde",
  "result": {
    "markdown": "---\ntitle: \"Finding patterns\"\n---\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n\n::: {.callout-tip}\n## Learning outcomes\n\n-  \n\n:::\n\n## Libraries and functions\n\n::: {.callout-note collapse=\"true\"}\n## Click to expand\n\n::: {.panel-tabset group=\"language\"}\n## R\n\n### Libraries\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(visdat)\n```\n:::\n\n\n### Functions\n\n## Python\n\n### Libraries\n### Functions\n:::\n:::\n\n## Finding patterns\n\nWhen we set off to gather or explore data, we generally have a research question that we're interested in. We then design an experiment to test this question - in that case our data helps us to find an answer.\n\nQuite often we gather a lot more data than we directly need to answer our research question. As such, it's often very useful to explore our data and look for patterns.\n\nBy doing this we can get insight into any trends that might exist in the data, or distributions across the data. We can also look for correlation between different variables (things we've measured) or make comparisons between different groups.\n\n## Loading data\n\nThe first step to exploring our data is of course loading it in the first place.\n\n::: {.panel-tabset group=\"language\"}\n## R\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngapminder <- read_csv(\"data/gapminder_clean.csv\")\n```\n:::\n\n\n## Python\n:::\n\nThe `gapminder` data set that we've loaded has 13 different variables, with observations for over 150 different countries in the year 2010.\n\n## Data exploration\n\nTo illustrate how we can use different visualisations to look at the same variable, we're going to focus on `life_expectancy` in different contexts.\n\nLet's start off with a simple scatter plot that looks at `life_expectancy` against `income_per_person`:\n\n::: {.panel-tabset group=\"language\"}\n## R\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = gapminder,\n       aes(x = income_per_person,\n           y = life_expectancy)) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](finding-patterns_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n## Python\n:::\n\nIt seems that as the income per person increases, so does the life expectancy. We can also see that the life expectancy kind of plateaus - which is not very surprising, since it can't go on indefinitely!\n\nLooking at this plot, it's quite striking how there is quite a range of life expectancy values at the really low income countries. There is information on different world regions in the data (`world_region`). Perhaps there are certain world regions that have particularly low income levels?\n\nThis is something we can easily check.\n\n::: {.panel-tabset group=\"language\"}\n## R\n\nWe simply adjust the previous plot by colouring our data by `world_region`:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = gapminder,\n       aes(x = income_per_person,\n           y = life_expectancy,\n           colour = world_region)) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](finding-patterns_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n## Python\n:::\n\nLooking at this plot it appears that most of the low-income countries are in sub-Saharan Africa.\n\n### Exercises\n\n::: {.callout-note icon=false}\n## Income levels across main religions\n\n**Level:** {{< fa solid star >}} {{< fa regular star >}} {{< fa regular star >}}\n\nPlot life expectancy vs income per person for the main religions.\n\nCan you see any trends?\n\n::: {.callout-tip collapse=\"true\"}\n## Answer\n::: {.panel-tabset group=\"language\"}\n## R\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = gapminder,\n       aes(x = income_per_person,\n           y = life_expectancy,\n           colour = main_religion)) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](finding-patterns_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n## Python\n:::\n\nThere are no clear trends in these data, apart from that the data are very spread out!\n\nWhat we _can_ see in the plot is that the country with the highest income per person is a Muslim country, and the second-highest income country is Christian.\n:::\n:::\n\n::: {.callout-note icon=false}\n## Income extremes\n\n**Level:** {{< fa solid star >}} {{< fa solid star >}} {{< fa regular star >}}\n\nTry the following:\n\n1. Find the 5 highest income countries\n2. Find the 5 lowest income countries\n3. Create a box plot with those data points\n\nHint: it might be easiest to save the results in two separate objects.\n\n::: {.callout-tip collapse=\"true\"}\n## Answer\n::: {.panel-tabset group=\"language\"}\n## R\n\nFirst, we get the 5 highest income countries:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntop5_income <- gapminder %>% \n  arrange(desc(income_per_person)) %>% \n  slice(1:5)\n```\n:::\n\n\nNext, we get the 5 lowest income countries:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbottom5_income <- gapminder %>% \n  arrange(income_per_person) %>% \n  slice(1:5)\n```\n:::\n\n\nLastly, we can plot this as follows:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = top5_income,\n       aes(x = \"top 5\", y = income_per_person)) +\n  geom_boxplot() +\n  # create new box using the bottom 5 data\n  geom_boxplot(data = bottom5_income,\n               aes(x = \"bottom 5\", y = income_per_person))\n```\n\n::: {.cell-output-display}\n![](finding-patterns_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n## Python\n:::\n:::\n:::\n\n## Key points\n\n::: {.callout-note}\n-\n-\n-\n:::\n",
    "supporting": [
      "finding-patterns_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}